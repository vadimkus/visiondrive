@import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;900&family=Georama:wght@300;400;500;600;700&display=swap');
@import 'mapbox-gl/dist/mapbox-gl.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    /* Mobile-first fluid typography */
    --fluid-min-width: 320;
    --fluid-max-width: 1280;
  }

  * {
    @apply border-gray-200;
  }

  html {
    /* Prevent text size adjustment on orientation change */
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }

  body {
    @apply bg-white text-gray-900 antialiased;
    /* Better mobile font rendering */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Prevent horizontal scroll on mobile */
    overflow-x: hidden;
  }

  /* Arabic RTL support */
  [dir="rtl"] {
    font-family: 'Tajawal', 'Georama', system-ui, sans-serif;
  }

  /* Better tap highlight on mobile */
  @media (max-width: 768px) {
    a, button {
      -webkit-tap-highlight-color: rgba(37, 99, 235, 0.1);
    }
  }
}

@layer components {
  /* Mobile-optimized container */
  .mobile-container {
    @apply px-4 sm:px-6 lg:px-8;
    width: 100%;
    max-width: 100vw;
  }

  /* Touch-friendly button styles */
  .btn-touch {
    @apply min-h-[44px] px-4 py-3 text-base font-medium rounded-xl;
    @apply active:scale-[0.98] transition-transform;
  }

  /* Mobile card with proper spacing */
  .mobile-card {
    @apply p-4 sm:p-6 rounded-xl bg-white border border-gray-100 shadow-sm;
  }

  /* Mobile-friendly section spacing */
  .mobile-section {
    @apply py-8 sm:py-12 lg:py-16;
  }

  /* Mobile heading sizes */
  .mobile-h1 {
    @apply text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold leading-tight;
  }

  .mobile-h2 {
    @apply text-xl sm:text-2xl md:text-3xl font-bold leading-tight;
  }

  .mobile-h3 {
    @apply text-lg sm:text-xl md:text-2xl font-semibold;
  }

  /* Mobile paragraph */
  .mobile-p {
    @apply text-sm sm:text-base leading-relaxed text-gray-600;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Safe area padding for notched devices (iOS) */
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-area-x {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  .safe-area-inset-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-area-inset-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .h-safe-area-inset-bottom {
    height: env(safe-area-inset-bottom);
  }

  /* Hide scrollbar on mobile but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* iOS momentum scrolling */
  .scroll-touch {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }

  /* Scroll snap utilities */
  .snap-x {
    scroll-snap-type: x mandatory;
  }

  .snap-y {
    scroll-snap-type: y mandatory;
  }

  .snap-start {
    scroll-snap-align: start;
  }

  .snap-center {
    scroll-snap-align: center;
  }

  .snap-none {
    scroll-snap-type: none;
  }

  /* Overscroll behavior */
  .overscroll-none {
    overscroll-behavior: none;
  }

  .overscroll-contain {
    overscroll-behavior: contain;
  }

  /* Touch action utilities */
  .touch-pan-x {
    touch-action: pan-x;
  }

  .touch-pan-y {
    touch-action: pan-y;
  }

  .touch-none {
    touch-action: none;
  }

  .touch-manipulation {
    touch-action: manipulation;
  }

  /* GPU acceleration for smooth animations */
  .gpu-accelerated {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
  }

  /* Will-change for animation optimization */
  .will-change-transform {
    will-change: transform;
  }

  .will-change-opacity {
    will-change: opacity;
  }

  /* Prevent selection during drag/swipe */
  .select-none-touch {
    user-select: none;
    -webkit-user-select: none;
    -webkit-touch-callout: none;
  }
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Custom scrollbar (desktop only) */
@media (min-width: 768px) {
  ::-webkit-scrollbar {
    width: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-gray-50;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400;
  }
}

/* Mobile-specific improvements */
@media (max-width: 640px) {
  /* Prevent zoom on input focus */
  input, select, textarea {
    font-size: 16px !important;
  }

  /* Better spacing for mobile forms */
  input, select, textarea, button {
    @apply rounded-lg;
  }
}

